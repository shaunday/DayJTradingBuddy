import { useQuery } from '@tanstack/react-query';
import * as Constants from '@constants/Constants';
import TradesApiAccess from '@services/TradesApiAccess';

export function useTradeSummary(tradeComposite) {
    const summaryQueryKey = [Constants.TRADECOMPOSITE_SUMMARY_KEY, tradeComposite.Id];

    const { data: tradeSummary } = useQuery({
        queryKey: summaryQueryKey,
        initialData: tradeComposite.Summary,
        refetchOnWindowFocus: false,
        queryFn: TradesApiAccess.getSummaryElement,
    });

    return tradeSummary;
}